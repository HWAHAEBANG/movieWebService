<!DOCTYPE html>
<html>

<body>
  <div id="root"></div>
</body>
<script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
  function MinutesTotHours(){
    const [amount, setAmount] = React.useState(0);
    const [inverted, setInverted] = React.useState(false);
    const onChange = (event) => {
      setAmount(event.target.value);
    };
    const reset = () => setAmount(0);
    const onInvert = () => {
      setInverted((current) => !current);
      reset();
    }  
    return(
    <div>
    <div>
      <label htmlFor="minutes">Minutes : </label>
      <input
       value={inverted ? amount * 60 : amount} 
       id="minutes" 
       placeholder="Minutes" 
       type="number" 
       onChange={onChange}
       disabled={inverted} // fipped가 true가 되면 disable한다
       /> 
    </div>
    
      <div>
        <label htmlFor="hours">hours : </label>
        <input 
        value={inverted ? amount : Math.round(amount / 60)} // 반올림 
        id="hours"
        placeholder="hours" 
        type="number" 
        disabled={!inverted} // fipped가 false가 되면 disable한다
        onChange={onChange}
        />
      </div>
      <button onClick={reset}>reset</button>
      <button onClick={onInvert}>{inverted ? "Turn back" : "Invert"}</button>
    </div>
  );
  }
  function KmToMiles(){
    const [distance, setDistance] = React.useState(0);
    const [inverted, setInverted] = React.useState(false);
    const onChange = (event) => {
      setDistance(event.target.value);
    };
    const reset = () => setDistance(0);
    const onInvert = () => {
      setInverted((current => !current));
      reset();
    };
    return (
      <div>
        <div>
          <label htmlFor="km">Kilo meters : </label>  
          <input 
          value = {inverted ? distance * 1.609344 : distance } 
          id = "km" 
          placeholder = "km"
          type="number" 
          disabled = {inverted}
          onChange = {onChange}
          />
        </div>


        <div>
          <label htmlFor="mile">Miles : </label>  
          <input 
          value = {inverted ? distance : distance / 1.609344}
          id = "mile" 
          placeholder = "mile"
          type="number" 
          disabled = {!inverted}
          onChange = {onChange}
          />          
        </div>
        <button onClick = {reset}>reset</button>
        <button onClick = {onInvert}>{inverted ? "Turn back" : "Invert"}</button>
      </div>

    )
  }
  function App() {
    const [index, setIndex] = React.useState("xx"); // 쌍따옴표 꼭 써줘야한다잉
    const onSelect = (event) => {
      setIndex(event.target.value);
    };
    console.log("render w/", index);
    return(
    <div>
      <h1>Super Converter</h1>
      <select value={index} onChange={onSelect}>
        <option value="xx">Select your Unites</option>
        <option value = "0">Minutes & Hours</option> 
        <option value = "1">Km & Miles</option>
      </select>
      <hr />
      {index === "xx" ? "Please select your units." : null} 
      {index === "0" ? <MinutesTotHours /> : null}
      {index === "1" ? <KmToMiles /> : null}
    </div>
  );
  } 
  const root = document.getElementById('root');
  ReactDOM.render(<App />, root);
</script>

</html>